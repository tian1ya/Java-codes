*我不是一个伟大的程序员，我只是有一个优秀习惯的程序员*

#### 两顶帽子
>添加新功能：

不应该修改既有代码，添加新功能以及测试，并让测试通过。
            
> 重构:

不叠加新功能，只改进程序结构，也不添加测试，只有在绝对必要的时候才会修改测试。
在软件开发的过程中，会发现经常变换帽子，首先你尝试添加新功能，然后会意识到，如果将程序改一下，让你添加会容易的多。于是变化帽子为重构
程序结构调整好了，你又换了帽子，开始添加新的功能。

#### 为何重构
程序是慢慢逐渐腐败，变质的。在为了短期目的，或是在完全理解整体设计之前，就贸然修改代码，
那么程序会慢慢失去自己最初的涉及结构，新的程序员就越来越难通过阅读源码理解程序的设计结构。

重构就好比是在整理代码，所做的东西就是将所有东西回到应该所在的位置。

代码结构的流失是累积性的。

  完成同样的事情，设计不良的代码往往需要更多的代码。

* 重构使得软件更加好理解
* 重构帮助找 bug
* 重构提高变成速度

基于以上的三点，重构的重点在于提高代码的可读性，理解了代码，那么后续的事情就非诚好做了的。

#### 何时重构
重构不应该是专门抽出时间完成的，而是应该在写代码的任何的时候都应该进行的，
重构是你将你想做的事情可以更好的做到。

---
极限编程(XP), 也就是结对变成，是将代码复审的积极性发挥到了极致，这样在开发过程中形成随时进行的代码复审
工作，而重构也就被包含在开发过程中了。

#### 重构和性能是不矛盾的
重构是提供软件的可读性，写出可调的软件，然后再去优化性能，获得足够的速度。
**所以重构是可以为性能优化服务的。**



